"use strict";(self.webpackChunkthelia=self.webpackChunkthelia||[]).push([[9385],{3905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>m});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=n.createContext({}),s=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},c=function(e){var t=s(e.components);return n.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,c=d(e,["components","mdxType","originalType","parentName"]),p=s(r),m=o,h=p["".concat(l,".").concat(m)]||p[m]||u[m]||a;return r?n.createElement(h,i(i({ref:t},c),{},{components:r})):n.createElement(h,i({ref:t},c))}));function m(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=r.length,i=new Array(a);i[0]=p;var d={};for(var l in t)hasOwnProperty.call(t,l)&&(d[l]=t[l]);d.originalType=e,d.mdxType="string"==typeof e?e:o,i[1]=d;for(var s=2;s<a;s++)i[s]=r[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}p.displayName="MDXCreateElement"},3076:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>a,metadata:()=>d,toc:()=>s});var n=r(7462),o=(r(7294),r(3905));const a={title:"Addons",sidebar_position:2},i=void 0,d={unversionedId:"api/Addons",id:"api/Addons",title:"Addons",description:"To allow module to add field in Thelia own model and to it's route (write or read) easily and quickly without to have to redefine all the models we have create the resources Addon.",source:"@site/docs/api/Addons.md",sourceDirName:"api",slug:"/api/Addons",permalink:"/docs/api/Addons",draft:!1,editUrl:"https://github.com/thelia/docs/edit/main/docs/api/Addons.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Addons",sidebar_position:2},sidebar:"myAutogeneratedSidebar",previous:{title:"Resources",permalink:"/docs/api/Resources"},next:{title:"Contribute",permalink:"/docs/contribute"}},l={},s=[{value:"Create your addon",id:"create-your-addon",level:2},{value:"Attach parent resource",id:"attach-parent-resource",level:2}],c={toc:s};function u(e){let{components:t,...r}=e;return(0,o.kt)("wrapper",(0,n.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"To allow module to add field in Thelia own model and to it's route (write or read) easily and quickly without to have to redefine all the models we have create the resources Addon."),(0,o.kt)("h2",{id:"create-your-addon"},"Create your addon"),(0,o.kt)("p",null,"Your addon can be anywhere but must implements the ",(0,o.kt)("inlineCode",{parentName:"p"},"Thelia\\Api\\Resource\\ResourceAddonInterface")," and for convenience you can use (and it's greatly encouraged) the trait ",(0,o.kt)("inlineCode",{parentName:"p"},"Thelia\\Api\\Resource\\ResourceAddonTrait")," it provide useful method.\nIn our example we are adding the latitude and longitude to customer's addresses. These come from a custom model named AddressData who contain additional data for Thelia addresses this table is directly linked to address by the id column like explained ",(0,o.kt)("a",{parentName:"p",href:"/docs/propel#add-a-column-to-native-thelia-table"},"here"),"."),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"An addon can also be a ",(0,o.kt)("a",{parentName:"p",href:"/docs/api/Resources"},"resource")," to expose his own route (resource) and to add field to Thelia model (addon) at the same time.")),(0,o.kt)("h2",{id:"attach-parent-resource"},"Attach parent resource"),(0,o.kt)("p",null,"To tell which resource your addon want to extend we have the function ",(0,o.kt)("inlineCode",{parentName:"p"},"getResourceToExtend"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-php",metastring:'title="local/modules/ApiOverride/Api/Resource/AddressData.php"',title:'"local/modules/ApiOverride/Api/Resource/AddressData.php"'},"public static function getResourceToExtend(): string\n{\n    return \\Thelia\\Api\\Resource\\Address::class;\n}\n")))}u.isMDXComponent=!0}}]);