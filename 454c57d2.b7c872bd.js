(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{128:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return h}));var n=a(0),l=a.n(n);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var s=l.a.createContext({}),b=function(e){var t=l.a.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},d=function(e){var t=b(e.components);return l.a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return l.a.createElement(l.a.Fragment,{},t)}},p=l.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,o=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),d=b(a),p=n,h=d["".concat(o,".").concat(p)]||d[p]||u[p]||i;return a?l.a.createElement(h,r(r({ref:t},s),{},{components:a})):l.a.createElement(h,r({ref:t},s))}));function h(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,o=new Array(i);o[0]=p;var r={};for(var c in t)hasOwnProperty.call(t,c)&&(r[c]=t[c]);r.originalType=e,r.mdxType="string"==typeof e?e:n,o[1]=r;for(var s=2;s<i;s++)o[s]=a[s];return l.a.createElement.apply(null,o)}return l.a.createElement.apply(null,a)}p.displayName="MDXCreateElement"},86:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return o})),a.d(t,"metadata",(function(){return r})),a.d(t,"toc",(function(){return c})),a.d(t,"default",(function(){return b}));var n=a(3),l=a(7),i=(a(0),a(128)),o={title:"Installation on shared hosting"},r={unversionedId:"installation/shared_hosting",id:"installation/shared_hosting",isDocsHomePage:!1,title:"Installation on shared hosting",description:"Download the full distribution on Thelia website",source:"@site/docs/installation/shared_hosting.md",slug:"/installation/shared_hosting",permalink:"/thelia_doc/docs/installation/shared_hosting",editUrl:"https://github.com/real-goatoo/thelia_doc/edit/master/docs/installation/shared_hosting.md",version:"current",sidebar:"docs",previous:{title:"Installation with composer",permalink:"/thelia_doc/docs/installation/composer"},next:{title:"Dockerize your Thelia",permalink:"/thelia_doc/docs/installation/docker"}},c=[{value:"Download the full distribution on Thelia website",id:"download-the-full-distribution-on-thelia-website",children:[]},{value:"After installation",id:"after-installation",children:[]},{value:"How to update Thelia ?",id:"how-to-update-thelia-",children:[{value:"Short story",id:"short-story",children:[]},{value:"Detailed instructions and alternative update methods",id:"detailed-instructions-and-alternative-update-methods",children:[]}]}],s={toc:c};function b(e){var t=e.components,a=Object(l.a)(e,["components"]);return Object(i.b)("wrapper",Object(n.a)({},s,a,{components:t,mdxType:"MDXLayout"}),Object(i.b)("h3",{id:"download-the-full-distribution-on-thelia-website"},"Download the full distribution on Thelia website"),Object(i.b)("p",null,"Go to this page and download the zip file : ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"http://thelia.net/#download"}),"http://thelia.net/#download")),Object(i.b)("p",null,"Then unzip the file."),Object(i.b)("p",null,"Installing thelia with the web install wizard allow to create an administrator, add some informations about your shop, etc"),Object(i.b)("p",null,"The install wizard in accessible with your favorite browser :"),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"http://yourdomain.tld/[/subdomain_if_needed]/install\n")),Object(i.b)("p",null,"For example, I have thelia downloaded at ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"http://thelia.net"}),"http://thelia.net")," and my vhost is correctly configured, I have to reach this address :"),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"http://thelia.net/install\n")),Object(i.b)("h3",{id:"after-installation"},"After installation"),Object(i.b)("p",null,"Remove the ",Object(i.b)("inlineCode",{parentName:"p"},"web/install")," directory"),Object(i.b)("div",{class:"page-header"},Object(i.b)("h1",null,"Update to latest version")),Object(i.b)("h2",{id:"how-to-update-thelia-"},"How to update Thelia ?"),Object(i.b)("div",{class:"alert alert-warning"},Object(i.b)("p",null,"Before proceeding to the update, it's strongly recommended to backup your website (files and database)."),Object(i.b)("em",null,"You can backup your database with tools such as phpmyadmin or mysqldump.")),Object(i.b)("h3",{id:"short-story"},"Short story"),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},"Download the new version on ",Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"http://thelia.net/#download"}),"Thelia web site"),"."),Object(i.b)("li",{parentName:"ol"},"Be sure to close your shop, so that only you can access the shop (using a .htaccess, list of allowed IP, ...)"),Object(i.b)("li",{parentName:"ol"},"Unzip the downloaded archive in your Thelia directory, overwriting all files with those from the archive"),Object(i.b)("li",{parentName:"ol"},"Go to ",Object(i.b)("inlineCode",{parentName:"li"},"http://yourshop.tld/install")," to start the update wizard. ",Object(i.b)("strong",{parentName:"li"},"This may take a long time !")),Object(i.b)("li",{parentName:"ol"},"Delete or rename the web/install directory."),Object(i.b)("li",{parentName:"ol"},"Done !")),Object(i.b)("h3",{id:"detailed-instructions-and-alternative-update-methods"},"Detailed instructions and alternative update methods"),Object(i.b)("p",null,"Once the backup is done, The update process only takes a few minutes, in 2 main step:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Update your files"),Object(i.b)("li",{parentName:"ul"},"Update your database")),Object(i.b)("h4",{id:"step-1--update-your-files"},"Step 1 : update your files"),Object(i.b)("p",null,"You have three options to update Thelia files :"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"download the new version archive at ",Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"http://thelia.net/#download"}),"http://thelia.net/#download")," and replace all your files with those from the archive."),Object(i.b)("li",{parentName:"ul"},"copy all files from the Thelia new distribution (including local/modules/* files)"),Object(i.b)("li",{parentName:"ul"},"using git, you can ",Object(i.b)("inlineCode",{parentName:"li"},"git checkout")," to the current version to switch to your target version.")),Object(i.b)("p",null,"Note: if you've moved your admin/install directories, your index_dev.php or any other\nfile/directory, don't forget to update them too."),Object(i.b)("p",null,"In both case, clear all caches running ",Object(i.b)("inlineCode",{parentName:"p"},"php Thelia cache:clear")),Object(i.b)("h4",{id:"step-2--update-your-database"},"Step 2 : update your database"),Object(i.b)("p",null,"If you're updating to a version > 2.1.x, simply run ",Object(i.b)("inlineCode",{parentName:"p"},"php setup/update.php"),".\nThis script automatically backup your database and restore it if a problem is detected.\nHowever, if your database is really large, it's recommended to backup it manually and not to use the script backup."),Object(i.b)("p",null,"It's strongly advised to clear the cache in all environments :"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"php Thelia cache:clear")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"php Thelia cache:clear --env=prod"))),Object(i.b)("h5",{id:"alternative-way-to-update-your-database-use-the-web-wizard-since-thelia-21"},"Alternative way to update your database: use the web wizard (since Thelia 2.1)"),Object(i.b)("p",null,"An update wizard is available in the ",Object(i.b)("inlineCode",{parentName:"p"},"web/install")," directory. It's the same directory used by the install wizard."),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},Object(i.b)("strong",{parentName:"p"},"During the update process, you should protect the web folder from public access (htaccess,  list of allowed IP, ...)."))),Object(i.b)("p",null,"The update wizard is available through your favourite browser :"),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"http://yourdomain.tld/[/subdomain_if_needed]/install\n")),Object(i.b)("p",null,"Note:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"the wizard is available only if your Thelia is not already updated to the latest version."),Object(i.b)("li",{parentName:"ul"},"if your database is large (many products, many orders, ...), it's recommended to backup your database manually instead of using the database backup wizard.")),Object(i.b)("h5",{id:"for-updating-a-thelia-20x-only-use-thelia-cli-tools"},"For updating a Thelia 2.0.x ONLY, use Thelia cli tools"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"run ",Object(i.b)("inlineCode",{parentName:"li"},"php Thelia thelia:update")),Object(i.b)("li",{parentName:"ul"},"again clear all caches in all environment :",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"php Thelia cache:clear")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"php Thelia cache:clear --env=prod"))))),Object(i.b)("p",null,"This command ",Object(i.b)("strong",{parentName:"p"},"may fail")," on some updates and you will have to use an alternative update method."))}b.isMDXComponent=!0}}]);